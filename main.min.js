const CONTACT_EMAIL="hello@omie.com";function supportsWebP(){const e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))&&0===e.toDataURL("image/webp").indexOf("data:image/webp")}function setOptimizedBackground(e,t,n=[768,480]){const i=supportsWebP()?"webp":"jpg",s=t.match(/([^/]+)\.(jpg|jpeg|png)$/i);if(!s)return void(e.style.backgroundImage=`url('${t}')`);const r=s[1],a=t.substring(0,t.lastIndexOf("/")),o=window.innerWidth;let l=n[0];for(const e of n.reverse())if(o>=e){l=e;break}const c=`${a}/${r}-${l}w.${i}`;e.style.backgroundImage=`url('${c}')`;const d=new Image;d.onerror=()=>{e.style.backgroundImage=`url('${t}')`},d.src=c}function getOptimizedImageSrc(e,t=800){const n=supportsWebP()?"webp":"jpg",i=e.match(/([^/]+)\.(jpg|jpeg|png)$/i);if(!i)return e;const s=i[1];return`${e.substring(0,e.lastIndexOf("/"))}/${s}-${t}w.${n}`}function throttle(e,t){let n=0;return function(...i){const s=Date.now();s-n>=t&&(e.apply(this,i),n=s)}}const galleryCategories=[{name:"Pinkie Flamingo",description:"A vibrant collection featuring playful pink hues, perfect for bold and cheerful designs",materials:"Premium cotton yarn, cotton stuffing",techniques:"Blending traditional crochet techniques with modern color aesthetics",inspiration:"Inspired by the graceful beauty of flamingos and tropical sunsets",color:"#FF1493",bgColor:"linear-gradient(135deg, rgba(255, 20, 147, 0.1) 0%, rgba(255, 182, 193, 0.1) 100%)",images:[{src:"images/gallery/Pinkie Flamingo/pink-flamingo-01.jpg",alt:"Pinkie Flamingo handcrafted design"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-02.jpg",alt:"Pinkie Flamingo detailed view"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-03.jpg",alt:"Pinkie Flamingo artistic arrangement"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-04.jpg",alt:"Pinkie Flamingo close-up detail"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-05.jpg",alt:"Pinkie Flamingo craftsmanship showcase"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-06.jpg",alt:"Pinkie Flamingo vibrant colors"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-07.jpg",alt:"Pinkie Flamingo elegant design"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-08.jpg",alt:"Pinkie Flamingo bold statement"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-09.jpg",alt:"Pinkie Flamingo creative piece"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-10.jpg",alt:"Pinkie Flamingo playful design"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-11.jpg",alt:"Pinkie Flamingo cheerful creation"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-12.jpg",alt:"Pinkie Flamingo vibrant artwork"},{src:"images/gallery/Pinkie Flamingo/pink-flamingo-13.jpg",alt:"Pinkie Flamingo beautiful masterpiece"}]},{name:"Red Ruby",description:"Bold crimson designs that capture attention with rich, luxurious red tones",materials:"High-quality acrylic blend, reinforced stitching",techniques:"Advanced stitch work combining texture and depth",inspiration:"Drawing from the timeless elegance of precious rubies",color:"#DC143C",bgColor:"linear-gradient(135deg, rgba(220, 20, 60, 0.1) 0%, rgba(255, 99, 71, 0.1) 100%)",images:[{src:"images/gallery/Red Ruby/red-ruby-01.jpg",alt:"Red Ruby elegant design"},{src:"images/gallery/Red Ruby/red-ruby-02.jpg",alt:"Red Ruby luxurious creation"},{src:"images/gallery/Red Ruby/red-ruby-03.jpg",alt:"Red Ruby detailed craftsmanship"},{src:"images/gallery/Red Ruby/red-ruby-04.jpg",alt:"Red Ruby bold statement piece"},{src:"images/gallery/Red Ruby/red-ruby-05.jpg",alt:"Red Ruby rich textures"},{src:"images/gallery/Red Ruby/red-ruby-06.jpg",alt:"Red Ruby vibrant artwork"},{src:"images/gallery/Red Ruby/red-ruby-07.jpg",alt:"Red Ruby handcrafted beauty"}]},{name:"Sunset Hues",description:"Warm orange tones reminiscent of golden sunsets and cozy autumn evenings",materials:"Soft merino wool, natural dyes",techniques:"Color gradient work and intricate pattern blending",inspiration:"Capturing the warm glow of sunset over the African savanna",color:"#FF6600",bgColor:"linear-gradient(135deg, rgba(255, 102, 0, 0.1) 0%, rgba(255, 165, 0, 0.1) 100%)",images:[{src:"images/gallery/Sunset Hues/sunset-hues-01.jpg",alt:"Sunset Hues warm design"},{src:"images/gallery/Sunset Hues/sunset-hues-02.jpg",alt:"Sunset Hues golden creation"},{src:"images/gallery/Sunset Hues/sunset-hues-03.jpg",alt:"Sunset Hues artistic blend"},{src:"images/gallery/Sunset Hues/sunset-hues-04.jpg",alt:"Sunset Hues cozy masterpiece"},{src:"images/gallery/Sunset Hues/sunset-hues-05.jpg",alt:"Sunset Hues vibrant artwork"},{src:"images/gallery/Sunset Hues/sunset-hues-06.jpg",alt:"Sunset Hues autumn beauty"},{src:"images/gallery/Sunset Hues/sunset-hues-07.jpg",alt:"Sunset Hues handcrafted design"}]},{name:"Purple Elegance",description:"Sophisticated purple designs that embody grace and refined artistry",materials:"Silk-blend yarn, delicate finishing",techniques:"Fine detail work with elegant stitch patterns",inspiration:"Inspired by royal elegance and the beauty of lavender fields",color:"#9370DB",bgColor:"linear-gradient(135deg, rgba(147, 112, 219, 0.1) 0%, rgba(186, 85, 211, 0.1) 100%)",images:[{src:"images/gallery/Purple Elegance/purple-elegance-07.jpg",alt:"Purple Elegance handcrafted piece"},{src:"images/gallery/Purple Elegance/purple-elegance-08.jpg",alt:"Purple Elegance artistic creation"},{src:"images/gallery/Purple Elegance/purple-elegance-09.jpg",alt:"Purple Elegance detailed work"},{src:"images/gallery/Purple Elegance/purple-elegance-10.jpg",alt:"Purple Elegance fine craftsmanship"},{src:"images/gallery/Purple Elegance/purple-elegance-11.jpg",alt:"Purple Elegance beautiful design"},{src:"images/gallery/Purple Elegance/purple-elegance-12.jpg",alt:"Purple Elegance finished piece"}]},{name:"Blue Serenity",description:"Calming blue designs that bring tranquility and peaceful elegance",materials:"Soft cotton-blend yarn, gentle textures",techniques:"Smooth stitch patterns with serene color blending",inspiration:"Inspired by clear skies, ocean waves, and peaceful waters",color:"#4169E1",bgColor:"linear-gradient(135deg, rgba(65, 105, 225, 0.1) 0%, rgba(135, 206, 250, 0.1) 100%)",images:[{src:"images/gallery/Blue Serenity/blue-serenity-01.jpg",alt:"Blue Serenity tranquil design"},{src:"images/gallery/Blue Serenity/blue-serenity-02.jpg",alt:"Blue Serenity peaceful creation"},{src:"images/gallery/Blue Serenity/blue-serenity-03.jpg",alt:"Blue Serenity calming artwork"},{src:"images/gallery/Blue Serenity/blue-serenity-04.jpg",alt:"Blue Serenity serene beauty"},{src:"images/gallery/Blue Serenity/blue-serenity-05.jpg",alt:"Blue Serenity elegant masterpiece"}]}],lookbook=[];class Slideshow{constructor(){this.slides=document.querySelectorAll(".slide"),this.indicators=document.querySelectorAll(".indicator"),this.prevBtn=document.querySelector(".slide-btn.prev"),this.nextBtn=document.querySelector(".slide-btn.next"),this.currentSlide=0,this.autoplayInterval=null,this.init()}init(){if(0===this.slides.length)return;this.slides.forEach((e,t)=>{const n=e.style.backgroundImage.match(/url\(['"]?([^'"]+)['"]?\)/);n&&n[1]&&setOptimizedBackground(e,n[1],[1024,768,480])}),this.startAutoplay(),this.prevBtn?.addEventListener("click",()=>this.previousSlide()),this.nextBtn?.addEventListener("click",()=>this.nextSlide()),this.indicators.forEach((e,t)=>{e.addEventListener("click",()=>this.goToSlide(t))});const e=document.querySelector(".hero-slideshow");e?.addEventListener("mouseenter",()=>this.stopAutoplay()),e?.addEventListener("mouseleave",()=>this.startAutoplay())}goToSlide(e){this.slides[this.currentSlide].classList.remove("active"),this.indicators[this.currentSlide]?.classList.remove("active"),this.currentSlide=e,this.slides[this.currentSlide].classList.add("active"),this.indicators[this.currentSlide]?.classList.add("active")}nextSlide(){const e=(this.currentSlide+1)%this.slides.length;this.goToSlide(e)}previousSlide(){const e=(this.currentSlide-1+this.slides.length)%this.slides.length;this.goToSlide(e)}startAutoplay(){this.autoplayInterval=setInterval(()=>this.nextSlide(),5e3)}stopAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)}}class ScrollAnimations{constructor(){this.elements=document.querySelectorAll(".reveal, .scroll-fade-up, .scroll-fade-left, .scroll-fade-right, .scroll-scale, .stagger-item"),this.init()}init(){document.querySelectorAll(".section").forEach(e=>{e.querySelectorAll("h2, .section-subtitle, .about-text, .value-item, .collection-item, .lookbook-item").forEach(e=>{e.classList.contains("reveal")||e.classList.contains("scroll-fade-up")||e.classList.contains("scroll-fade-left")||e.classList.contains("scroll-fade-right")||e.classList.contains("scroll-scale")||e.classList.add("reveal")})}),this.observer=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&e.target.classList.add("active")})},{threshold:.1,rootMargin:"0px 0px -100px 0px"}),this.elements.forEach(e=>{this.observer.observe(e)})}}class ScrollProgress{constructor(){this.progressBar=document.getElementById("scroll-progress"),this.init()}init(){if(!this.progressBar)return;const e=throttle(()=>{const e=window.innerHeight,t=document.documentElement.scrollHeight,n=(window.pageYOffset||document.documentElement.scrollTop)/(t-e)*100;this.progressBar.style.width=`${Math.min(n,100)}%`},16);window.addEventListener("scroll",e,{passive:!0}),e()}}class ParallaxEffect{constructor(){this.elements=document.querySelectorAll(".parallax-element"),this.init()}init(){if(0===this.elements.length)return;const e=throttle(()=>{this.elements.forEach(e=>{const t=e.dataset.speed||.5,n=e.getBoundingClientRect(),i=window.pageYOffset*t;n.top<window.innerHeight&&n.bottom>0&&(e.style.transform=`translateY(${i}px)`)})},16);window.addEventListener("scroll",e,{passive:!0})}}class HeaderScroll{constructor(){this.header=document.getElementById("header"),this.init()}init(){if(!this.header)return;let e=!1;window.addEventListener("scroll",()=>{e||(requestAnimationFrame(()=>{window.scrollY>50?this.header.classList.add("scrolled"):this.header.classList.remove("scrolled"),e=!1}),e=!0)},{passive:!0})}}class MobileMenu{constructor(){this.menuBtn=document.getElementById("mobile-menu-btn"),this.mobileMenu=document.getElementById("mobile-menu"),this.init()}init(){if(!this.menuBtn||!this.mobileMenu)return;this.menuBtn.addEventListener("click",()=>{const e="true"===this.menuBtn.getAttribute("aria-expanded");this.menuBtn.setAttribute("aria-expanded",String(!e)),this.mobileMenu.hidden=e});this.mobileMenu.querySelectorAll("a").forEach(e=>{e.addEventListener("click",()=>{this.menuBtn.setAttribute("aria-expanded","false"),this.mobileMenu.hidden=!0})})}}class LightboxGallery{constructor(){this.currentProject=0,this.currentImage=0,this.modal=null,this.init()}init(){this.createModal(),this.setupEventListeners()}createModal(){const e=document.createElement("div");e.className="lightbox-modal",e.id="lightbox-modal",e.setAttribute("role","dialog"),e.setAttribute("aria-modal","true"),e.setAttribute("aria-label","Image gallery viewer"),e.innerHTML='\n      <div class="lightbox-overlay"></div>\n      <div class="lightbox-content">\n        <button class="lightbox-close" aria-label="Close gallery">\n          <span class="material-icons">close</span>\n        </button>\n        \n        <button class="lightbox-nav lightbox-prev" aria-label="Previous image">\n          <span class="material-icons">chevron_left</span>\n        </button>\n        \n        <div class="lightbox-image-container">\n          <img class="lightbox-image" src="" alt="" />\n          <div class="lightbox-caption"></div>\n          <div class="lightbox-counter"></div>\n        </div>\n        \n        <button class="lightbox-nav lightbox-next" aria-label="Next image">\n          <span class="material-icons">chevron_right</span>\n        </button>\n        \n        <div class="lightbox-indicators"></div>\n      </div>\n    ',document.body.appendChild(e),this.modal=e}setupEventListeners(){this.modal.querySelector(".lightbox-close").addEventListener("click",()=>this.close());this.modal.querySelector(".lightbox-overlay").addEventListener("click",()=>this.close());const e=this.modal.querySelector(".lightbox-prev"),t=this.modal.querySelector(".lightbox-next");e.addEventListener("click",()=>this.previousImage()),t.addEventListener("click",()=>this.nextImage()),document.addEventListener("keydown",e=>{if(this.modal.classList.contains("active"))switch(e.key){case"Escape":this.close();break;case"ArrowLeft":this.previousImage();break;case"ArrowRight":this.nextImage()}}),this.setupTouchEvents()}setupTouchEvents(){const e=this.modal.querySelector(".lightbox-image-container");let t=0,n=0;const i=()=>{const e=t-n;Math.abs(e)>50&&(e>0?this.nextImage():this.previousImage())};e.addEventListener("touchstart",e=>{t=e.changedTouches[0].screenX},{passive:!0}),e.addEventListener("touchend",e=>{n=e.changedTouches[0].screenX,i()},{passive:!0})}open(e,t=null){this.currentProject=e,this.currentImage=t??0,document.body.style.overflow="hidden",this.modal.classList.add("active"),this.updateImage(),this.createIndicators(),this.modal.querySelector(".lightbox-close").focus()}close(){this.modal.classList.remove("active"),document.body.style.overflow=""}updateImage(){const e=lookbook[this.currentProject],t=e.images[this.currentImage],n=this.modal.querySelector(".lightbox-image"),i=this.modal.querySelector(".lightbox-caption"),s=this.modal.querySelector(".lightbox-counter");n.style.opacity="0",setTimeout(()=>{n.src=t.src,n.alt=t.alt,i.innerHTML="",s.textContent=`${this.currentImage+1} / ${e.images.length}`,n.style.opacity="1"},200);const r=this.modal.querySelector(".lightbox-prev"),a=this.modal.querySelector(".lightbox-next");1===e.images.length?(r.style.display="none",a.style.display="none"):(r.style.display="flex",a.style.display="flex"),this.updateIndicators()}createIndicators(){const e=lookbook[this.currentProject],t=this.modal.querySelector(".lightbox-indicators");t.innerHTML="",e.images.length<=1?t.style.display="none":(t.style.display="flex",e.images.forEach((e,n)=>{const i=document.createElement("button");i.className="lightbox-indicator",i.setAttribute("aria-label",`Go to image ${n+1}`),n===this.currentImage&&i.classList.add("active"),i.addEventListener("click",()=>{this.currentImage=n,this.updateImage()}),t.appendChild(i)}))}updateIndicators(){this.modal.querySelectorAll(".lightbox-indicator").forEach((e,t)=>{t===this.currentImage?e.classList.add("active"):e.classList.remove("active")})}nextImage(){const e=lookbook[this.currentProject];this.currentImage<e.images.length-1?this.currentImage++:this.currentImage=0,this.updateImage()}previousImage(){const e=lookbook[this.currentProject];this.currentImage>0?this.currentImage--:this.currentImage=e.images.length-1,this.updateImage()}}let currentView="categories",currentCategory=null,currentCategoryImages=[],currentFilter="all",allGalleryImages=[];function prepareGalleryImages(){allGalleryImages=[],galleryCategories.forEach(e=>{const t=e.name.toLowerCase().replace(/\s+/g,"-");e.images.forEach(n=>{allGalleryImages.push({...n,category:e.name,categorySlug:t,categoryColor:e.color})})})}function renderMasonryGallery(e="all"){const t=document.getElementById("lookbook-grid");if(!t)return;t.innerHTML="",t.classList.remove("category-view"),0===allGalleryImages.length&&prepareGalleryImages();const n="all"===e?allGalleryImages:allGalleryImages.filter(t=>t.categorySlug===e),i=document.createDocumentFragment();n.forEach((e,t)=>{const s=document.createElement("div");s.className="gallery-item",s.dataset.category=e.categorySlug,s.dataset.index=t;const r=document.createElement("img"),a=getOptimizedImageSrc(e.src,600);r.src=a,r.alt=e.alt,r.loading="lazy",r.width=600,r.height=800,r.onerror=function(){this.src=e.src};const o=document.createElement("div");o.className="overlay";const l=document.createElement("h3");l.textContent=e.category;const c=document.createElement("p");c.textContent="Handcrafted Design",o.appendChild(l),o.appendChild(c),s.appendChild(r),s.appendChild(o),s.addEventListener("click",()=>{openLightbox(t,n)}),i.appendChild(s)}),t.appendChild(i),setTimeout(()=>{observeGalleryItemsForReveal()},100)}function observeGalleryItemsForReveal(){const e=document.querySelectorAll(".gallery-item"),t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(e.target.classList.add("show"),t.unobserve(e.target))})},{threshold:.2});e.forEach(e=>{t.observe(e)})}let currentLightboxIndex=0,currentLightboxImages=[];function openLightbox(e,t){currentLightboxIndex=e,currentLightboxImages=t;const n=document.getElementById("lightbox"),i=document.getElementById("lightbox-img"),s=document.getElementById("lightbox-title"),r=document.getElementById("lightbox-category");if(!n||!i)return;const a=t[e];i.src=a.src,i.alt=a.alt,s.textContent=a.category,r.textContent=`Image ${e+1} of ${t.length}`,n.classList.add("active"),n.removeAttribute("hidden"),document.body.style.overflow="hidden"}function closeLightbox(){const e=document.getElementById("lightbox");e&&(e.classList.remove("active"),e.setAttribute("hidden",""),document.body.style.overflow="")}function nextLightboxImage(){0!==currentLightboxImages.length&&(currentLightboxIndex=(currentLightboxIndex+1)%currentLightboxImages.length,updateLightboxImage())}function prevLightboxImage(){0!==currentLightboxImages.length&&(currentLightboxIndex=(currentLightboxIndex-1+currentLightboxImages.length)%currentLightboxImages.length,updateLightboxImage())}function updateLightboxImage(){const e=document.getElementById("lightbox-img"),t=document.getElementById("lightbox-title"),n=document.getElementById("lightbox-category");if(!e||0===currentLightboxImages.length)return;const i=currentLightboxImages[currentLightboxIndex];e.src=i.src,e.alt=i.alt,t.textContent=i.category,n.textContent=`Image ${currentLightboxIndex+1} of ${currentLightboxImages.length}`}function setupFilterButtons(){const e=document.querySelectorAll(".filter-btn");e.forEach(t=>{t.addEventListener("click",()=>{e.forEach(e=>e.classList.remove("active")),t.classList.add("active");const n=t.dataset.filter;currentFilter=n,renderMasonryGallery(n)})})}function renderGallery(){const e=document.getElementById("lookbook-grid");e&&(e.innerHTML="","categories"===currentView?(document.body.className=document.body.className.replace(/category-\S+/g,"").trim(),e.classList.add("category-view"),renderCategories(e)):(e.classList.remove("category-view"),renderCategoryImages(e)))}function renderCategories(e){const t=document.createDocumentFragment();galleryCategories.forEach((e,n)=>{const i=document.createElement("article");i.className="lookbook-item category-item stagger-item";const s=e.images[0],r=document.createElement("img"),a=getOptimizedImageSrc(s.src,600);r.src=a,r.alt=`${e.name} category`,r.loading="lazy",r.width=600,r.height=800,r.onerror=function(){this.src=s.src};const o=document.createElement("div");o.className="category-overlay";const l=document.createElement("h3");l.className="category-name",l.textContent=e.name;const c=document.createElement("p");c.className="category-description",c.textContent=e.description;const d=document.createElement("p");d.className="category-count",d.textContent=`${e.images.length} ${1===e.images.length?"image":"images"}`,o.appendChild(l),o.appendChild(c),o.appendChild(d),i.style.cursor="pointer",i.setAttribute("role","button"),i.setAttribute("tabindex","0"),i.setAttribute("aria-label",`View ${e.name} category`),i.addEventListener("click",()=>{currentView="images",currentCategory=n,renderGallery(),document.getElementById("gallery")?.scrollIntoView({behavior:"smooth"})}),i.addEventListener("keypress",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),currentView="images",currentCategory=n,renderGallery(),document.getElementById("gallery")?.scrollIntoView({behavior:"smooth"}))}),i.appendChild(r),i.appendChild(o),t.appendChild(i)}),e.appendChild(t)}function renderCategoryImages(e){if(null===currentCategory)return currentView="categories",void renderCategories(e);const t=galleryCategories[currentCategory];document.body.className=document.body.className.replace(/category-\S+/g,"").trim();const n="category-"+t.name.toLowerCase().replace(/\s+/g,"-");document.body.classList.add(n);const i=document.createElement("button");i.className="back-to-categories btn btn-secondary",i.innerHTML='<span class="material-icons">arrow_back</span> Back to Categories',i.addEventListener("click",()=>{currentView="categories",currentCategory=null,renderGallery()});const s=document.createElement("div");s.className="back-button-container",s.appendChild(i),e.appendChild(s);const r=document.createElement("div");r.className="category-title-container";const a=document.createElement("h3");a.className="current-category-title",a.textContent=t.name,r.appendChild(a);const o=document.createElement("div");o.className="category-details";const l=document.createElement("p");l.className="category-detail-description",l.textContent=t.description,o.appendChild(l);const c=document.createElement("div");c.className="category-detail-list";const d=document.createElement("p"),g=document.createElement("strong");g.textContent="Materials:",d.appendChild(g),d.appendChild(document.createTextNode(" "+t.materials)),c.appendChild(d);const u=document.createElement("p"),m=document.createElement("strong");m.textContent="Techniques:",u.appendChild(m),u.appendChild(document.createTextNode(" "+t.techniques)),c.appendChild(u);const h=document.createElement("p"),p=document.createElement("strong");p.textContent="Inspiration:",h.appendChild(p),h.appendChild(document.createTextNode(" "+t.inspiration)),c.appendChild(h),o.appendChild(c),r.appendChild(o),e.appendChild(r);const y=document.createDocumentFragment(),b={title:t.name,images:t.images};lookbook.length=0,lookbook.push(b),t.images.forEach((e,n)=>{const i=document.createElement("article");i.className="lookbook-item stagger-item";const s=document.createElement("img"),r=getOptimizedImageSrc(e.src,800);s.src=r,s.alt=e.alt,s.loading="lazy",s.width=600,s.height=800,s.onerror=function(){this.src=e.src};const a=document.createElement("div");a.className="image-overlay";const o=document.createElement("div");o.className="overlay-content";const l=document.createElement("h4");l.className="overlay-title",l.textContent=t.name;const c=document.createElement("p");c.className="overlay-number",c.textContent=`Image ${n+1} of ${t.images.length}`,o.appendChild(l),o.appendChild(c),a.appendChild(o),i.style.cursor="pointer",i.setAttribute("role","button"),i.setAttribute("tabindex","0"),i.setAttribute("aria-label",`View ${t.name} image ${n+1}`),i.addEventListener("click",()=>{window.lightboxGallery&&window.lightboxGallery.open(0,n)}),i.addEventListener("keypress",e=>{"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),window.lightboxGallery&&window.lightboxGallery.open(0,n))}),i.appendChild(s),i.appendChild(a),y.appendChild(i)}),e.appendChild(y)}function renderLookbook(){renderGallery()}function setupContactForm(){const e=document.getElementById("contact-email-link");e&&(e.href=`mailto:${CONTACT_EMAIL}`,e.textContent=CONTACT_EMAIL);const t=document.getElementById("copy-email");t&&t.addEventListener("click",()=>{navigator.clipboard?navigator.clipboard.writeText(CONTACT_EMAIL).then(()=>{const e=t.textContent;t.textContent="Copied!",setTimeout(()=>{t.textContent=e},2e3)}).catch(()=>{window.location.href=`mailto:${CONTACT_EMAIL}`}):window.location.href=`mailto:${CONTACT_EMAIL}`})}function setupSmoothScroll(){const e=document.getElementById("header");e&&document.querySelectorAll('a[href^="#"]').forEach(t=>{t.addEventListener("click",function(t){const n=this.getAttribute("href");if("#"===n)return;const i=document.querySelector(n);if(i){t.preventDefault();const n=e.offsetHeight,s=i.offsetTop-n;window.scrollTo({top:s,behavior:"smooth"})}})})}function setupBackToTop(){const e=document.getElementById("backToTop");if(!e)return;const t=throttle(()=>{const t=document.getElementById("gallery");if(!t)return;const n=t.offsetTop;window.scrollY>n+200?e.classList.add("visible"):e.classList.remove("visible")},100);window.addEventListener("scroll",t),e.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})})}window.addEventListener("load",()=>{const e=document.getElementById("loading-screen");e&&setTimeout(()=>{e.classList.add("hidden"),setTimeout(()=>{e.remove()},500)},500)}),document.addEventListener("DOMContentLoaded",()=>{document.getElementById("year").textContent=(new Date).getFullYear(),setupFilterButtons(),renderMasonryGallery("all");const e=document.getElementById("lightbox"),t=document.querySelector(".lightbox-close"),n=document.querySelector(".lightbox-prev"),i=document.querySelector(".lightbox-next");t&&t.addEventListener("click",closeLightbox),n&&n.addEventListener("click",prevLightboxImage),i&&i.addEventListener("click",nextLightboxImage),e&&(e.addEventListener("click",t=>{t.target===e&&closeLightbox()}),document.addEventListener("keydown",t=>{"Escape"===t.key&&e.classList.contains("active")?closeLightbox():"ArrowLeft"===t.key&&e.classList.contains("active")?prevLightboxImage():"ArrowRight"===t.key&&e.classList.contains("active")&&nextLightboxImage()})),setupContactForm(),setupSmoothScroll(),setupBackToTop(),new Slideshow,new ScrollAnimations,new ScrollProgress,new ParallaxEffect,new HeaderScroll,new MobileMenu,window.lightboxGallery=new LightboxGallery,new CustomCursor,new StaggerAnimation,setTimeout(()=>{document.body.classList.add("loaded")},100)});class CustomCursor{constructor(){"ontouchstart"in window||navigator.maxTouchPoints>0||(this.cursor=null,this.follower=null,this.cursorPos={x:0,y:0},this.followerPos={x:0,y:0},this.isHovering=!1,this.rafId=null,this.init())}init(){this.cursor=document.createElement("div"),this.cursor.className="custom-cursor",this.follower=document.createElement("div"),this.follower.className="custom-cursor-follower",document.body.appendChild(this.cursor),document.body.appendChild(this.follower),document.addEventListener("mousemove",e=>this.handleMouseMove(e),{passive:!0}),this.setupHoverEffects(),this.animate()}handleMouseMove(e){this.cursorPos.x=e.clientX,this.cursorPos.y=e.clientY}setupHoverEffects(){const e='a, button, [role="button"], .lookbook-item, .category-item, .slide-btn, .indicator, .btn, input, textarea';document.addEventListener("mouseover",t=>{t.target.closest(e)&&(this.isHovering=!0,this.cursor.classList.add("hover"),this.follower.classList.add("hover"))},{passive:!0}),document.addEventListener("mouseout",t=>{t.target.closest(e)&&(this.isHovering=!1,this.cursor.classList.remove("hover"),this.follower.classList.remove("hover"))},{passive:!0})}animate(){const e=(e,t,n)=>e+(t-e)*n;this.cursor.style.transform=`translate3d(${this.cursorPos.x-10}px, ${this.cursorPos.y-10}px, 0)`,this.followerPos.x=e(this.followerPos.x,this.cursorPos.x,.2),this.followerPos.y=e(this.followerPos.y,this.cursorPos.y,.2),this.follower.style.transform=`translate3d(${this.followerPos.x-20}px, ${this.followerPos.y-20}px, 0)`,this.rafId=requestAnimationFrame(()=>this.animate())}}class StaggerAnimation{constructor(){this.observer=null,this.mutationObserver=null,this.STAGGER_DELAY=.05,this.itemIndexMap=new WeakMap,this.init()}init(){this.observer=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const t=this.itemIndexMap.get(e.target)||0;setTimeout(()=>{e.target.style.opacity="1",e.target.style.transform="translateY(0)"},t*this.STAGGER_DELAY*1e3),this.observer.unobserve(e.target)}})},{threshold:.1});const e=()=>{this.observer.disconnect(),document.querySelectorAll(".lookbook-item").forEach((e,t)=>{this.itemIndexMap.set(e,t),e.style.opacity="0",e.style.transform="translateY(30px)",e.style.transition=`opacity 0.6s ease ${t*this.STAGGER_DELAY}s, transform 0.6s cubic-bezier(0.16, 1, 0.3, 1) ${t*this.STAGGER_DELAY}s`,this.observer.observe(e)})};e();const t=document.getElementById("lookbook-grid");t&&(this.mutationObserver=new MutationObserver(()=>{e()}),this.mutationObserver.observe(t,{childList:!0}))}}if("IntersectionObserver"in window){const e=new IntersectionObserver((e,t)=>{e.forEach(e=>{if(e.isIntersecting){const n=e.target;n.dataset.src&&(n.src=n.dataset.src,n.removeAttribute("data-src")),t.unobserve(n)}})});document.querySelectorAll("img[data-src]").forEach(t=>{e.observe(t)})}function animateCounter(e){const t=parseInt(e.dataset.target),n=performance.now(),i=s=>{const r=s-n,a=Math.min(r/2e3,1),o=Math.floor(a*t);e.textContent=o,a<1?requestAnimationFrame(i):e.textContent=t};requestAnimationFrame(i)}function observeStatNumbers(){const e=document.querySelectorAll(".stat-number");if(0===e.length)return;const t=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&(animateCounter(e.target),t.unobserve(e.target))})},{threshold:.5});e.forEach(e=>{t.observe(e)})}document.addEventListener("DOMContentLoaded",()=>{observeStatNumbers()});